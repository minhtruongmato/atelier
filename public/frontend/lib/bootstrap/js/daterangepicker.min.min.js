(function(f,e){if(typeof define==="function"&&define.amd){define(["moment","jquery"],function(a,b){if(!b.fn){b.fn={}}return e(a,b)})}else{if(typeof module==="object"&&module.exports){var g=(typeof window!="undefined")?window.jQuery:undefined;if(!g){g=require("jquery");if(!g.fn){g.fn={}}}var h=(typeof window!="undefined"&&typeof window.moment!="undefined")?window.moment:require("moment");module.exports=e(h,g)}else{f.daterangepicker=e(f.moment,f.jQuery)}}}(this,function(f,d){var e=function(s,a,u){this.parentEl="body";this.element=d(s);this.startDate=f().startOf("day");this.endDate=f().endOf("day");this.minDate=false;this.maxDate=false;this.dateLimit=false;this.autoApply=false;this.singleDatePicker=false;this.showDropdowns=false;this.showWeekNumbers=false;this.showISOWeekNumbers=false;this.showCustomRangeLabel=true;this.timePicker=false;this.timePicker24Hour=false;this.timePickerIncrement=1;this.timePickerSeconds=false;this.linkedCalendars=true;this.autoUpdateInput=true;this.alwaysShowCalendars=false;this.ranges={};this.opens="right";if(this.element.hasClass("pull-right")){this.opens="left"}this.drops="down";if(this.element.hasClass("dropup")){this.drops="up"}this.buttonClasses="btn btn-sm";this.applyClass="btn-success";this.cancelClass="btn-default";this.locale={direction:"ltr",format:f.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:f.weekdaysMin(),monthNames:f.monthsShort(),firstDay:f.localeData().firstDayOfWeek()};this.callback=function(){};this.isShowing=false;this.leftCalendar={};this.rightCalendar={};if(typeof a!=="object"||a===null){a={}}a=d.extend(this.element.data(),a);if(typeof a.template!=="string"&&!(a.template instanceof d)){a.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'}this.parentEl=(a.parentEl&&d(a.parentEl).length)?d(a.parentEl):d(this.parentEl);this.container=d(a.template).appendTo(this.parentEl);if(typeof a.locale==="object"){if(typeof a.locale.direction==="string"){this.locale.direction=a.locale.direction}if(typeof a.locale.format==="string"){this.locale.format=a.locale.format}if(typeof a.locale.separator==="string"){this.locale.separator=a.locale.separator}if(typeof a.locale.daysOfWeek==="object"){this.locale.daysOfWeek=a.locale.daysOfWeek.slice()}if(typeof a.locale.monthNames==="object"){this.locale.monthNames=a.locale.monthNames.slice()}if(typeof a.locale.firstDay==="number"){this.locale.firstDay=a.locale.firstDay}if(typeof a.locale.applyLabel==="string"){this.locale.applyLabel=a.locale.applyLabel}if(typeof a.locale.cancelLabel==="string"){this.locale.cancelLabel=a.locale.cancelLabel}if(typeof a.locale.weekLabel==="string"){this.locale.weekLabel=a.locale.weekLabel}if(typeof a.locale.customRangeLabel==="string"){var v=document.createElement("textarea");v.innerHTML=a.locale.customRangeLabel;var x=v.value;this.locale.customRangeLabel=x}}this.container.addClass(this.locale.direction);if(typeof a.startDate==="string"){this.startDate=f(a.startDate,this.locale.format)}if(typeof a.endDate==="string"){this.endDate=f(a.endDate,this.locale.format)}if(typeof a.minDate==="string"){this.minDate=f(a.minDate,this.locale.format)}if(typeof a.maxDate==="string"){this.maxDate=f(a.maxDate,this.locale.format)}if(typeof a.startDate==="object"){this.startDate=f(a.startDate)}if(typeof a.endDate==="object"){this.endDate=f(a.endDate)}if(typeof a.minDate==="object"){this.minDate=f(a.minDate)}if(typeof a.maxDate==="object"){this.maxDate=f(a.maxDate)}if(this.minDate&&this.startDate.isBefore(this.minDate)){this.startDate=this.minDate.clone()}if(this.maxDate&&this.endDate.isAfter(this.maxDate)){this.endDate=this.maxDate.clone()}if(typeof a.applyClass==="string"){this.applyClass=a.applyClass}if(typeof a.cancelClass==="string"){this.cancelClass=a.cancelClass}if(typeof a.dateLimit==="object"){this.dateLimit=a.dateLimit}if(typeof a.opens==="string"){this.opens=a.opens}if(typeof a.drops==="string"){this.drops=a.drops}if(typeof a.showWeekNumbers==="boolean"){this.showWeekNumbers=a.showWeekNumbers}if(typeof a.showISOWeekNumbers==="boolean"){this.showISOWeekNumbers=a.showISOWeekNumbers}if(typeof a.buttonClasses==="string"){this.buttonClasses=a.buttonClasses}if(typeof a.buttonClasses==="object"){this.buttonClasses=a.buttonClasses.join(" ")}if(typeof a.showDropdowns==="boolean"){this.showDropdowns=a.showDropdowns}if(typeof a.showCustomRangeLabel==="boolean"){this.showCustomRangeLabel=a.showCustomRangeLabel}if(typeof a.singleDatePicker==="boolean"){this.singleDatePicker=a.singleDatePicker;if(this.singleDatePicker){this.endDate=this.startDate.clone()}}if(typeof a.timePicker==="boolean"){this.timePicker=a.timePicker}if(typeof a.timePickerSeconds==="boolean"){this.timePickerSeconds=a.timePickerSeconds}if(typeof a.timePickerIncrement==="number"){this.timePickerIncrement=a.timePickerIncrement}if(typeof a.timePicker24Hour==="boolean"){this.timePicker24Hour=a.timePicker24Hour}if(typeof a.autoApply==="boolean"){this.autoApply=a.autoApply}if(typeof a.autoUpdateInput==="boolean"){this.autoUpdateInput=a.autoUpdateInput}if(typeof a.linkedCalendars==="boolean"){this.linkedCalendars=a.linkedCalendars}if(typeof a.isInvalidDate==="function"){this.isInvalidDate=a.isInvalidDate}if(typeof a.isCustomDate==="function"){this.isCustomDate=a.isCustomDate}if(typeof a.alwaysShowCalendars==="boolean"){this.alwaysShowCalendars=a.alwaysShowCalendars}if(this.locale.firstDay!=0){var q=this.locale.firstDay;while(q>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());q--}}var y,t,r;if(typeof a.startDate==="undefined"&&typeof a.endDate==="undefined"){if(d(this.element).is("input[type=text]")){var w=d(this.element).val(),b=w.split(this.locale.separator);y=t=null;if(b.length==2){y=f(b[0],this.locale.format);t=f(b[1],this.locale.format)}else{if(this.singleDatePicker&&w!==""){y=f(w,this.locale.format);t=f(w,this.locale.format)}}if(y!==null&&t!==null){this.setStartDate(y);this.setEndDate(t)}}}if(typeof a.ranges==="object"){for(r in a.ranges){if(typeof a.ranges[r][0]==="string"){y=f(a.ranges[r][0],this.locale.format)}else{y=f(a.ranges[r][0])}if(typeof a.ranges[r][1]==="string"){t=f(a.ranges[r][1],this.locale.format)}else{t=f(a.ranges[r][1])}if(this.minDate&&y.isBefore(this.minDate)){y=this.minDate.clone()}var z=this.maxDate;if(this.dateLimit&&z&&y.clone().add(this.dateLimit).isAfter(z)){z=y.clone().add(this.dateLimit)}if(z&&t.isAfter(z)){t=z.clone()}if((this.minDate&&t.isBefore(this.minDate,this.timepicker?"minute":"day"))||(z&&y.isAfter(z,this.timepicker?"minute":"day"))){continue}var v=document.createElement("textarea");v.innerHTML=r;var x=v.value;this.ranges[x]=[y,t]}var c="<ul>";for(r in this.ranges){c+='<li data-range-key="'+r+'">'+r+"</li>"}if(this.showCustomRangeLabel){c+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"}c+="</ul>";this.container.find(".ranges").prepend(c)}if(typeof u==="function"){this.callback=u}if(!this.timePicker){this.startDate=this.startDate.startOf("day");this.endDate=this.endDate.endOf("day");this.container.find(".calendar-time").hide()}if(this.timePicker&&this.autoApply){this.autoApply=false}if(this.autoApply&&typeof a.ranges!=="object"){this.container.find(".ranges").hide()}else{if(this.autoApply){this.container.find(".applyBtn, .cancelBtn").addClass("hide")}}if(this.singleDatePicker){this.container.addClass("single");this.container.find(".calendar.left").addClass("single");this.container.find(".calendar.left").show();this.container.find(".calendar.right").hide();this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide();if(this.timePicker){this.container.find(".ranges ul").hide()}else{this.container.find(".ranges").hide()}}if((typeof a.ranges==="undefined"&&!this.singleDatePicker)||this.alwaysShowCalendars){this.container.addClass("show-calendar")}this.container.addClass("opens"+this.opens);if(typeof a.ranges!=="undefined"&&this.opens=="right"){this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent())}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);if(this.applyClass.length){this.container.find(".applyBtn").addClass(this.applyClass)}if(this.cancelClass.length){this.container.find(".cancelBtn").addClass(this.cancelClass)}this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",d.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",d.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",d.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",d.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",d.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",d.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",d.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",d.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",d.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",d.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",d.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",d.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",d.proxy(this.formInputsKeydown,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",d.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",d.proxy(this.clickCancel,this)).on("click.daterangepicker","li",d.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",d.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",d.proxy(this.updateFormInputs,this));if(this.element.is("input")||this.element.is("button")){this.element.on({"click.daterangepicker":d.proxy(this.show,this),"focus.daterangepicker":d.proxy(this.show,this),"keyup.daterangepicker":d.proxy(this.elementChanged,this),"keydown.daterangepicker":d.proxy(this.keydown,this)})}else{this.element.on("click.daterangepicker",d.proxy(this.toggle,this));this.element.on("keydown.daterangepicker",d.proxy(this.toggle,this))}if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else{if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}}};e.prototype={constructor:e,setStartDate:function(a){if(typeof a==="string"){this.startDate=f(a,this.locale.format)}if(typeof a==="object"){this.startDate=f(a)}if(!this.timePicker){this.startDate=this.startDate.startOf("day")}if(this.timePicker&&this.timePickerIncrement){this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(this.minDate&&this.startDate.isBefore(this.minDate)){this.startDate=this.minDate.clone();if(this.timePicker&&this.timePickerIncrement){this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}}if(this.maxDate&&this.startDate.isAfter(this.maxDate)){this.startDate=this.maxDate.clone();if(this.timePicker&&this.timePickerIncrement){this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}}if(!this.isShowing){this.updateElement()}this.updateMonthsInView()},setEndDate:function(a){if(typeof a==="string"){this.endDate=f(a,this.locale.format)}if(typeof a==="object"){this.endDate=f(a)}if(!this.timePicker){this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")}if(this.timePicker&&this.timePickerIncrement){this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(this.endDate.isBefore(this.startDate)){this.endDate=this.startDate.clone()}if(this.maxDate&&this.endDate.isAfter(this.maxDate)){this.endDate=this.maxDate.clone()}if(this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)){this.endDate=this.startDate.clone().add(this.dateLimit)}this.previousRightTime=this.endDate.clone();if(!this.isShowing){this.updateElement()}this.updateMonthsInView()},isInvalidDate:function(){return false},isCustomDate:function(){return false},updateView:function(){if(this.timePicker){this.renderTimePicker("left");this.renderTimePicker("right");if(!this.endDate){this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")}else{this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled")}}if(this.endDate){this.container.find('input[name="daterangepicker_end"]').removeClass("active");this.container.find('input[name="daterangepicker_start"]').addClass("active")}else{this.container.find('input[name="daterangepicker_end"]').addClass("active");this.container.find('input[name="daterangepicker_start"]').removeClass("active")}this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))){return}this.leftCalendar.month=this.startDate.clone().date(2);if(!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())){this.rightCalendar.month=this.endDate.clone().date(2)}else{this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}else{if(this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")){this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}if(this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate){this.rightCalendar.month=this.maxDate.clone().date(2);this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month")}},updateCalendars:function(){if(this.timePicker){var h,a,b;if(this.endDate){h=parseInt(this.container.find(".left .hourselect").val(),10);a=parseInt(this.container.find(".left .minuteselect").val(),10);b=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;if(!this.timePicker24Hour){var c=this.container.find(".left .ampmselect").val();if(c==="PM"&&h<12){h+=12}if(c==="AM"&&h===12){h=0}}}else{h=parseInt(this.container.find(".right .hourselect").val(),10);a=parseInt(this.container.find(".right .minuteselect").val(),10);b=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;if(!this.timePicker24Hour){var c=this.container.find(".right .ampmselect").val();if(c==="PM"&&h<12){h+=12}if(c==="AM"&&h===12){h=0}}}this.leftCalendar.month.hour(h).minute(a).second(b);this.rightCalendar.month.hour(h).minute(a).second(b)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");if(this.endDate==null){return}this.calculateChosenLabel()},renderCalendar:function(aj){var m=aj=="left"?this.leftCalendar:this.rightCalendar;var aB=m.month.month();var aA=m.month.year();var ag=m.month.hour();var at=m.month.minute();var ad=m.month.second();var ay=f([aA,aB]).daysInMonth();var ai=f([aA,aB,1]);var W=f([aA,aB,ay]);var aa=f(ai).subtract(1,"month").month();var an=f(ai).subtract(1,"month").year();var ak=f([an,aa]).daysInMonth();var ap=ai.day();var m=[];m.firstDay=ai;m.lastDay=W;for(var c=0;c<6;c++){m[c]=[]}var a=ak-ap+this.locale.firstDay+1;if(a>ak){a-=7}if(ap==this.locale.firstDay){a=ak-6}var au=f([an,aa,a,12,at,ad]);var aw,am;for(var c=0,aw=0,am=0;c<42;c++,aw++,au=f(au).add(24,"hour")){if(c>0&&aw%7===0){aw=0;am++}m[am][aw]=au.clone().hour(ag).minute(at).second(ad);au.hour(12);if(this.minDate&&m[am][aw].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&m[am][aw].isBefore(this.minDate)&&aj=="left"){m[am][aw]=this.minDate.clone()}if(this.maxDate&&m[am][aw].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&m[am][aw].isAfter(this.maxDate)&&aj=="right"){m[am][aw]=this.maxDate.clone()}}if(aj=="left"){this.leftCalendar.calendar=m}else{this.rightCalendar.calendar=m}var az=aj=="left"?this.minDate:this.startDate;var aq=this.maxDate;var ac=aj=="left"?this.startDate:this.endDate;var Z=this.locale.direction=="ltr"?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"};var ab='<table class="table-condensed">';ab+="<thead>";ab+="<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers){ab+="<th></th>"}if((!az||az.isBefore(m.firstDay))&&(!this.linkedCalendars||aj=="left")){ab+='<th class="prev available"><i class="fa fa-'+Z.left+" glyphicon glyphicon-"+Z.left+'"></i></th>'}else{ab+="<th></th>"}var V=this.locale.monthNames[m[1][1].month()]+m[1][1].format(" YYYY");if(this.showDropdowns){var ae=m[1][1].month();var ao=m[1][1].year();var af=(aq&&aq.year())||(ao+5);var al=(az&&az.year())||(ao-50);var X=ao==al;var y=ao==af;var ar='<select class="monthselect">';for(var i=0;i<12;i++){if((!X||i>=az.month())&&(!y||i<=aq.month())){ar+="<option value='"+i+"'"+(i===ae?" selected='selected'":"")+">"+this.locale.monthNames[i]+"</option>"}else{ar+="<option value='"+i+"'"+(i===ae?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[i]+"</option>"}}ar+="</select>";var aC='<select class="yearselect">';for(var U=al;U<=af;U++){aC+='<option value="'+U+'"'+(U===ao?' selected="selected"':"")+">"+U+"</option>"}aC+="</select>";V=ar+aC}ab+='<th colspan="5" class="month">'+V+"</th>";if((!aq||aq.isAfter(m.lastDay))&&(!this.linkedCalendars||aj=="right"||this.singleDatePicker)){ab+='<th class="next available"><i class="fa fa-'+Z.right+" glyphicon glyphicon-"+Z.right+'"></i></th>'}else{ab+="<th></th>"}ab+="</tr>";ab+="<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers){ab+='<th class="week">'+this.locale.weekLabel+"</th>"}d.each(this.locale.daysOfWeek,function(g,h){ab+="<th>"+h+"</th>"});ab+="</tr>";ab+="</thead>";ab+="<tbody>";if(this.endDate==null&&this.dateLimit){var b=this.startDate.clone().add(this.dateLimit).endOf("day");if(!aq||b.isBefore(aq)){aq=b}}for(var am=0;am<6;am++){ab+="<tr>";if(this.showWeekNumbers){ab+='<td class="week">'+m[am][0].week()+"</td>"}else{if(this.showISOWeekNumbers){ab+='<td class="week">'+m[am][0].isoWeek()+"</td>"}}for(var aw=0;aw<7;aw++){var ax=[];if(m[am][aw].isSame(new Date(),"day")){ax.push("today")}if(m[am][aw].isoWeekday()>5){ax.push("weekend")}if(m[am][aw].month()!=m[1][1].month()){ax.push("off")}if(this.minDate&&m[am][aw].isBefore(this.minDate,"day")){ax.push("off","disabled")}if(aq&&m[am][aw].isAfter(aq,"day")){ax.push("off","disabled")}if(this.isInvalidDate(m[am][aw])){ax.push("off","disabled")}if(m[am][aw].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")){ax.push("active","start-date")}if(this.endDate!=null&&m[am][aw].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")){ax.push("active","end-date")}if(this.endDate!=null&&m[am][aw]>this.startDate&&m[am][aw]<this.endDate){ax.push("in-range")}var ah=this.isCustomDate(m[am][aw]);if(ah!==false){if(typeof ah==="string"){ax.push(ah)}else{Array.prototype.push.apply(ax,ah)}}var av="",Y=false;for(var c=0;c<ax.length;c++){av+=ax[c]+" ";if(ax[c]=="disabled"){Y=true}}if(!Y){av+="available"}ab+='<td class="'+av.replace(/^\s+|\s+$/g,"")+'" data-title="r'+am+"c"+aw+'">'+m[am][aw].date()+"</td>"}ab+="</tr>"}ab+="</tbody>";ab+="</table>";this.container.find(".calendar."+aj+" .calendar-table").html(ab)},renderTimePicker:function(a){if(a=="right"&&!this.endDate){return}var b,i,u,C=this.maxDate;if(this.dateLimit&&(!this.maxDate||this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate))){C=this.startDate.clone().add(this.dateLimit)}if(a=="left"){i=this.startDate.clone();u=this.minDate}else{if(a=="right"){i=this.endDate.clone();u=this.startDate;var E=this.container.find(".calendar.right .calendar-time div");if(E.html()!=""){i.hour(E.find(".hourselect option:selected").val()||i.hour());i.minute(E.find(".minuteselect option:selected").val()||i.minute());i.second(E.find(".secondselect option:selected").val()||i.second());if(!this.timePicker24Hour){var F=E.find(".ampmselect option:selected").val();if(F==="PM"&&i.hour()<12){i.hour(i.hour()+12)}if(F==="AM"&&i.hour()===12){i.hour(0)}}}if(i.isBefore(this.startDate)){i=this.startDate.clone()}if(C&&i.isAfter(C)){i=C.clone()}}}b='<select class="hourselect">';var B=this.timePicker24Hour?0:1;var w=this.timePicker24Hour?23:12;for(var c=B;c<=w;c++){var A=c;if(!this.timePicker24Hour){A=i.hour()>=12?(c==12?12:c+12):(c==12?0:c)}var y=i.clone().hour(A);var v=false;if(u&&y.minute(59).isBefore(u)){v=true}if(C&&y.minute(0).isAfter(C)){v=true}if(A==i.hour()&&!v){b+='<option value="'+c+'" selected="selected">'+c+"</option>"}else{if(v){b+='<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>"}else{b+='<option value="'+c+'">'+c+"</option>"}}}b+="</select> ";b+=': <select class="minuteselect">';for(var c=0;c<60;c+=this.timePickerIncrement){var D=c<10?"0"+c:c;var y=i.clone().minute(c);var v=false;if(u&&y.second(59).isBefore(u)){v=true}if(C&&y.second(0).isAfter(C)){v=true}if(i.minute()==c&&!v){b+='<option value="'+c+'" selected="selected">'+D+"</option>"}else{if(v){b+='<option value="'+c+'" disabled="disabled" class="disabled">'+D+"</option>"}else{b+='<option value="'+c+'">'+D+"</option>"}}}b+="</select> ";if(this.timePickerSeconds){b+=': <select class="secondselect">';for(var c=0;c<60;c++){var D=c<10?"0"+c:c;var y=i.clone().second(c);var v=false;if(u&&y.isBefore(u)){v=true}if(C&&y.isAfter(C)){v=true}if(i.second()==c&&!v){b+='<option value="'+c+'" selected="selected">'+D+"</option>"}else{if(v){b+='<option value="'+c+'" disabled="disabled" class="disabled">'+D+"</option>"}else{b+='<option value="'+c+'">'+D+"</option>"}}}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var z="";var x="";if(u&&i.clone().hour(12).minute(0).second(0).isBefore(u)){z=' disabled="disabled" class="disabled"'}if(C&&i.clone().hour(0).minute(0).second(0).isAfter(C)){x=' disabled="disabled" class="disabled"'}if(i.hour()>=12){b+='<option value="AM"'+z+'>AM</option><option value="PM" selected="selected"'+x+">PM</option>"}else{b+='<option value="AM" selected="selected"'+z+'>AM</option><option value="PM"'+x+">PM</option>"}b+="</select>"}this.container.find(".calendar."+a+" .calendar-time div").html(b)},updateFormInputs:function(){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")){return}this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format));if(this.endDate){this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format))}if(this.singleDatePicker||(this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate)))){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},move:function(){var c={top:0,left:0},a;var b=d(window).width();if(!this.parentEl.is("body")){c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()};b=this.parentEl[0].clientWidth+this.parentEl.offset().left}if(this.drops=="up"){a=this.element.offset().top-this.container.outerHeight()-c.top}else{a=this.element.offset().top+this.element.outerHeight()-c.top}this.container[this.drops=="up"?"addClass":"removeClass"]("dropup");if(this.opens=="left"){this.container.css({top:a,right:b-this.element.offset().left-this.element.outerWidth(),left:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{if(this.opens=="center"){this.container.css({top:a,left:this.element.offset().left-c.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{this.container.css({top:a,left:this.element.offset().left-c.left,right:"auto"});if(this.container.offset().left+this.container.outerWidth()>d(window).width()){this.container.css({left:"auto",right:0})}}}},show:function(a){if(this.isShowing){return}this._outsideClickProxy=d.proxy(function(b){this.outsideClick(b)},this);d(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);d(window).on("resize.daterangepicker",d.proxy(function(b){this.move(b)},this));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.previousRightTime=this.endDate.clone();this.updateView();this.container.show();this.move();this.element.trigger("show.daterangepicker",this);this.isShowing=true},hide:function(a){if(!this.isShowing){return}if(!this.endDate){this.startDate=this.oldStartDate.clone();this.endDate=this.oldEndDate.clone()}if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate)){this.callback(this.startDate,this.endDate,this.chosenLabel)}this.updateElement();d(document).off(".daterangepicker");d(window).off(".daterangepicker");this.container.hide();this.element.trigger("hide.daterangepicker",this);this.isShowing=false},toggle:function(a){if(this.isShowing){this.hide()}else{this.show()}},outsideClick:function(a){var b=d(a.target);if(a.type=="focusin"||b.closest(this.element).length||b.closest(this.container).length||b.closest(".calendar-table").length){return}this.hide();this.element.trigger("outsideClick.daterangepicker",this)},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(a){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")){return}var c=a.target.getAttribute("data-range-key");if(c==this.locale.customRangeLabel){this.updateView()}else{var b=this.ranges[c];this.container.find("input[name=daterangepicker_start]").val(b[0].format(this.locale.format));this.container.find("input[name=daterangepicker_end]").val(b[1].format(this.locale.format))}},clickRange:function(a){var c=a.target.getAttribute("data-range-key");this.chosenLabel=c;if(c==this.locale.customRangeLabel){this.showCalendars()}else{var b=this.ranges[c];this.startDate=b[0];this.endDate=b[1];if(!this.timePicker){this.startDate.startOf("day");this.endDate.endOf("day")}if(!this.alwaysShowCalendars){this.hideCalendars()}this.clickApply()}},clickPrev:function(a){var b=d(a.target).parents(".calendar");if(b.hasClass("left")){this.leftCalendar.month.subtract(1,"month");if(this.linkedCalendars){this.rightCalendar.month.subtract(1,"month")}}else{this.rightCalendar.month.subtract(1,"month")}this.updateCalendars()},clickNext:function(a){var b=d(a.target).parents(".calendar");if(b.hasClass("left")){this.leftCalendar.month.add(1,"month")}else{this.rightCalendar.month.add(1,"month");if(this.linkedCalendars){this.leftCalendar.month.add(1,"month")}}this.updateCalendars()},hoverDate:function(n){if(!d(n.target).hasClass("available")){return}var b=d(n.target).attr("data-title");var a=b.substr(1,1);var q=b.substr(3,1);var s=d(n.target).parents(".calendar");var p=s.hasClass("left")?this.leftCalendar.calendar[a][q]:this.rightCalendar.calendar[a][q];if(this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")){this.container.find("input[name=daterangepicker_start]").val(p.format(this.locale.format))}else{if(!this.endDate&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){this.container.find("input[name=daterangepicker_end]").val(p.format(this.locale.format))}}var o=this.leftCalendar;var c=this.rightCalendar;var r=this.startDate;if(!this.endDate){this.container.find(".calendar tbody td").each(function(m,l){if(d(l).hasClass("week")){return}var g=d(l).attr("data-title");var h=g.substr(1,1);var k=g.substr(3,1);var i=d(l).parents(".calendar");var j=i.hasClass("left")?o.calendar[h][k]:c.calendar[h][k];if((j.isAfter(r)&&j.isBefore(p))||j.isSame(p,"day")){d(l).addClass("in-range")}else{d(l).removeClass("in-range")}})}},clickDate:function(o){if(!d(o.target).hasClass("available")){return}var b=d(o.target).attr("data-title");var a=b.substr(1,1);var s=b.substr(3,1);var u=d(o.target).parents(".calendar");var r=u.hasClass("left")?this.leftCalendar.calendar[a][s]:this.rightCalendar.calendar[a][s];if(this.endDate||r.isBefore(this.startDate,"day")){if(this.timePicker){var p=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var c=this.container.find(".left .ampmselect").val();if(c==="PM"&&p<12){p+=12}if(c==="AM"&&p===12){p=0}}var q=parseInt(this.container.find(".left .minuteselect").val(),10);var t=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;r=r.clone().hour(p).minute(q).second(t)}this.endDate=null;this.setStartDate(r.clone())}else{if(!this.endDate&&r.isBefore(this.startDate)){this.setEndDate(this.startDate.clone())}else{if(this.timePicker){var p=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var c=this.container.find(".right .ampmselect").val();if(c==="PM"&&p<12){p+=12}if(c==="AM"&&p===12){p=0}}var q=parseInt(this.container.find(".right .minuteselect").val(),10);var t=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;r=r.clone().hour(p).minute(q).second(t)}this.setEndDate(r.clone());if(this.autoApply){this.calculateChosenLabel();this.clickApply()}}}if(this.singleDatePicker){this.setEndDate(this.startDate);if(!this.timePicker){this.clickApply()}}this.updateView();o.stopPropagation()},calculateChosenLabel:function(){var h=true;var b=0;for(var c in this.ranges){if(this.timePicker){var a=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(a)==this.ranges[c][0].format(a)&&this.endDate.format(a)==this.ranges[c][1].format(a)){h=false;this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}}else{if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){h=false;this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html();break}}b++}if(h){if(this.showCustomRangeLabel){this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html()}else{this.chosenLabel=null}this.showCalendars()}},clickApply:function(a){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(c){var a=d(c.target).closest(".calendar").hasClass("left"),b=a?"left":"right",k=this.container.find(".calendar."+b);var l=parseInt(k.find(".monthselect").val(),10);var m=k.find(".yearselect").val();if(!a){if(m<this.startDate.year()||(m==this.startDate.year()&&l<this.startDate.month())){l=this.startDate.month();m=this.startDate.year()}}if(this.minDate){if(m<this.minDate.year()||(m==this.minDate.year()&&l<this.minDate.month())){l=this.minDate.month();m=this.minDate.year()}}if(this.maxDate){if(m>this.maxDate.year()||(m==this.maxDate.year()&&l>this.maxDate.month())){l=this.maxDate.month();m=this.maxDate.year()}}if(a){this.leftCalendar.month.month(l).year(m);if(this.linkedCalendars){this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month")}}else{this.rightCalendar.month.month(l).year(m);if(this.linkedCalendars){this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")}}this.updateCalendars()},timeChanged:function(c){var s=d(c.target).closest(".calendar"),a=s.hasClass("left");var n=parseInt(s.find(".hourselect").val(),10);var p=parseInt(s.find(".minuteselect").val(),10);var q=this.timePickerSeconds?parseInt(s.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var b=s.find(".ampmselect").val();if(b==="PM"&&n<12){n+=12}if(b==="AM"&&n===12){n=0}}if(a){var r=this.startDate.clone();r.hour(n);r.minute(p);r.second(q);this.setStartDate(r);if(this.singleDatePicker){this.endDate=this.startDate.clone()}else{if(this.endDate&&this.endDate.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&this.endDate.isBefore(r)){this.setEndDate(r.clone())}}}else{if(this.endDate){var o=this.endDate.clone();o.hour(n);o.minute(p);o.second(q);this.setEndDate(o)}}this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(b){var c=d(b.target).closest(".calendar").hasClass("right");var a=f(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format);var i=f(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);if(a.isValid()&&i.isValid()){if(c&&i.isBefore(a)){a=i.clone()}this.setStartDate(a);this.setEndDate(i);if(c){this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format))}else{this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))}}this.updateView()},formInputsFocused:function(a){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active");d(a.target).addClass("active");var b=d(a.target).closest(".calendar").hasClass("right");if(b){this.endDate=null;this.setStartDate(this.startDate.clone());this.updateView()}},formInputsBlurred:function(b){if(!this.endDate){var a=this.container.find('input[name="daterangepicker_end"]').val();var c=f(a,this.locale.format);if(c.isValid()){this.setEndDate(c);this.updateView()}}},formInputsKeydown:function(a){if(a.keyCode===13){a.preventDefault();this.formInputsChanged(a)}},elementChanged:function(){if(!this.element.is("input")){return}if(!this.element.val().length){return}var b=this.element.val().split(this.locale.separator),a=null,c=null;if(b.length===2){a=f(b[0],this.locale.format);c=f(b[1],this.locale.format)}if(this.singleDatePicker||a===null||c===null){a=f(this.element.val(),this.locale.format);c=a}if(!a.isValid()||!c.isValid()){return}this.setStartDate(a);this.setEndDate(c);this.updateView()},keydown:function(a){if((a.keyCode===9)||(a.keyCode===13)){this.hide()}if(a.keyCode===27){a.preventDefault();a.stopPropagation();this.hide()}},updateElement:function(){if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else{if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}};d.fn.daterangepicker=function(b,a){var c=d.extend(true,{},d.fn.daterangepicker.defaultOptions,b);this.each(function(){var h=d(this);if(h.data("daterangepicker")){h.data("daterangepicker").remove()}h.data("daterangepicker",new e(h,c,a))});return this};return e}));