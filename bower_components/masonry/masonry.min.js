/*!
 * Masonry v4.0.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(b,a){if(typeof define=="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size"],a)}else{if(typeof module=="object"&&module.exports){module.exports=a(require("outlayer"),require("get-size"))}else{b.Masonry=a(b.Outlayer,b.getSize)}}}(window,function factory(b,c){var a=b.create("masonry");a.compatOptions.fitWidth="isFitWidth";a.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var d=0;d<this.cols;d++){this.colYs.push(0)}this.maxY=0};a.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var j=this.items[0];var f=j&&j.element;this.columnWidth=f&&c(f).outerWidth||this.containerWidth}var h=this.columnWidth+=this.gutter;var g=this.containerWidth+this.gutter;var i=g/h;var d=h-g%h;var e=d&&d<1?"round":"floor";i=Math[e](i);this.cols=Math.max(i,1)};a.prototype.getContainerWidth=function(){var f=this._getOption("fitWidth");var d=f?this.element.parentNode:this.element;var e=c(d);this.containerWidth=e&&e.innerWidth};a.prototype._getItemLayoutPosition=function(o){o.getSize();var n=o.size.outerWidth%this.columnWidth;var j=n&&n<1?"round":"ceil";var k=Math[j](o.size.outerWidth/this.columnWidth);k=Math.min(k,this.cols);var d=this._getColGroup(k);var e=Math.min.apply(Math,d);var l=d.indexOf(e);var h={x:this.columnWidth*l,y:e};var m=e+o.size.outerHeight;var f=this.cols+1-d.length;for(var g=0;g<f;g++){this.colYs[l+g]=m}return h};a.prototype._getColGroup=function(f){if(f<2){return this.colYs}var g=[];var h=this.cols+1-f;for(var d=0;d<h;d++){var e=this.colYs.slice(d,d+f);g[d]=Math.max.apply(Math,e)}return g};a.prototype._manageStamp=function(d){var k=c(d);var h=this._getElementOffset(d);var o=this._getOption("originLeft");var g=o?h.left:h.right;var e=g+k.outerWidth;var m=Math.floor(g/this.columnWidth);m=Math.max(0,m);var f=Math.floor(e/this.columnWidth);f-=e%this.columnWidth?0:1;f=Math.min(this.cols-1,f);var n=this._getOption("originTop");var l=(n?h.top:h.bottom)+k.outerHeight;for(var j=m;j<=f;j++){this.colYs[j]=Math.max(l,this.colYs[j])}};a.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var d={height:this.maxY};if(this._getOption("fitWidth")){d.width=this._getContainerFitWidth()}return d};a.prototype._getContainerFitWidth=function(){var e=0;var d=this.cols;while(--d){if(this.colYs[d]!==0){break}e++}return(this.cols-e)*this.columnWidth-this.gutter};a.prototype.needsResizeLayout=function(){var d=this.containerWidth;this.getContainerWidth();return d!=this.containerWidth};return a}));