/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(c,d){if(typeof define=="function"&&define.amd){define("ev-emitter/ev-emitter",d)}else{if(typeof module=="object"&&module.exports){module.exports=d()}else{c.EvEmitter=d()}}}(typeof window!="undefined"?window:this,function(){function d(){}var c=d.prototype;c.on=function(h,a){if(!h||!a){return}var g=this._events=this._events||{};var b=g[h]=g[h]||[];if(b.indexOf(a)==-1){b.push(a)}return this};c.once=function(g,b){if(!g||!b){return}this.on(g,b);var h=this._onceEvents=this._onceEvents||{};var a=h[g]=h[g]||{};a[b]=true;return this};c.off=function(h,a){var b=this._events&&this._events[h];if(!b||!b.length){return}var g=b.indexOf(a);if(g!=-1){b.splice(g,1)}return this};c.emitEvent=function(n,m){var k=this._events&&this._events[n];if(!k||!k.length){return}k=k.slice(0);m=m||[];var a=this._onceEvents&&this._onceEvents[n];for(var l=0;l<k.length;l++){var b=k[l];var i=a&&a[b];if(i){this.off(n,b);delete a[b]}b.apply(this,m)}return this};c.allOff=function(){delete this._events;delete this._onceEvents};return d}));
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(c,d){if(typeof define=="function"&&define.amd){define(["ev-emitter/ev-emitter"],function(a){return d(c,a)})}else{if(typeof module=="object"&&module.exports){module.exports=d(c,require("ev-emitter"))}else{c.imagesLoaded=d(c,c.EvEmitter)}}})(typeof window!=="undefined"?window:this,function factory(o,s){var q=o.jQuery;var r=o.console;function n(a,b){for(var c in b){a[c]=b[c]}return a}var v=Array.prototype.slice;function u(a){if(Array.isArray(a)){return a}var b=typeof a=="object"&&typeof a.length=="number";if(b){return v.call(a)}return[a]}function p(c,d,a){if(!(this instanceof p)){return new p(c,d,a)}var b=c;if(typeof c=="string"){b=document.querySelectorAll(c)}if(!b){r.error("Bad element for imagesLoaded "+(b||c));return}this.elements=u(b);this.options=n({},this.options);if(typeof d=="function"){a=d}else{n(this.options,d)}if(a){this.on("always",a)}this.getImages();if(q){this.jqDeferred=new q.Deferred()}setTimeout(this.check.bind(this))}p.prototype=Object.create(s.prototype);p.prototype.options={};p.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this)};p.prototype.addElementImages=function(e){if(e.nodeName=="IMG"){this.addImage(e)}if(this.options.background===true){this.addElementBackgroundImages(e)}var b=e.nodeType;if(!b||!t[b]){return}var d=e.querySelectorAll("img");for(var f=0;f<d.length;f++){var a=d[f];this.addImage(a)}if(typeof this.options.background=="string"){var g=e.querySelectorAll(this.options.background);for(f=0;f<g.length;f++){var c=g[f];this.addElementBackgroundImages(c)}}};var t={1:true,9:true,11:true};p.prototype.addElementBackgroundImages=function(e){var a=getComputedStyle(e);if(!a){return}var c=/url\((['"])?(.*?)\1\)/gi;var d=c.exec(a.backgroundImage);while(d!==null){var b=d&&d[2];if(b){this.addBackground(b,e)}d=c.exec(a.backgroundImage)}};p.prototype.addImage=function(b){var a=new m(b);this.images.push(a)};p.prototype.addBackground=function(b,c){var a=new l(b,c);this.images.push(a)};p.prototype.check=function(){var a=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return}function b(c,d,e){setTimeout(function(){a.progress(c,d,e)})}this.images.forEach(function(c){c.once("progress",b);c.check()})};p.prototype.progress=function(c,a,b){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded;this.emitEvent("progress",[this,c,a]);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,c)}if(this.progressedCount==this.images.length){this.complete()}if(this.options.debug&&r){r.log("progress: "+b,c,a)}};p.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=true;this.emitEvent(a,[this]);this.emitEvent("always",[this]);if(this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}};function m(a){this.img=a}m.prototype=Object.create(s.prototype);m.prototype.check=function(){var a=this.getIsImageComplete();if(a){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image();this.proxyImage.addEventListener("load",this);this.proxyImage.addEventListener("error",this);this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.proxyImage.src=this.img.src};m.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth};m.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.img,a])};m.prototype.handleEvent=function(b){var a="on"+b.type;if(this[a]){this[a](b)}};m.prototype.onload=function(){this.confirm(true,"onload");this.unbindEvents()};m.prototype.onerror=function(){this.confirm(false,"onerror");this.unbindEvents()};m.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this);this.proxyImage.removeEventListener("error",this);this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};function l(b,a){this.url=b;this.element=a;this.img=new Image()}l.prototype=Object.create(m.prototype);l.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;var a=this.getIsImageComplete();if(a){this.confirm(this.img.naturalWidth!==0,"naturalWidth");this.unbindEvents()}};l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};l.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.element,a])};p.makeJQueryPlugin=function(a){a=a||o.jQuery;if(!a){return}q=a;q.fn.imagesLoaded=function(d,c){var b=new p(this,d,c);return b.jqDeferred.promise(q(this))}};p.makeJQueryPlugin();return p});